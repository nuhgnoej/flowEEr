# ðŸŒ¸ FlowEEr â€“ ì˜¨ë””ë°”ì´ìŠ¤ ì•± í”„ë¡œì íŠ¸ (MVP)

## ðŸ—ï¸ í”„ë¡œì íŠ¸ ê°œìš”

**FlowEErëŠ” íŒŒì›Œ Të“¤ì„ ìœ„í•œ ë£¨í‹´ ì•Œë¦¼ ì•±ìž…ë‹ˆë‹¤.**

- í”Œë¡œìš°ë¥¼ ì„¤ê³„í•˜ê³ , ìŠ¤í…ì„ ì—°ê²°í•˜ê³ , ì¡°ê±´ì— ë”°ë¼ ìžë™ìœ¼ë¡œ ì•ŒëžŒì„ ë°›ìŠµë‹ˆë‹¤.
- ì„œë²„ ì—†ì´ **ì˜¨ë””ë°”ì´ìŠ¤(Local DB)** í™˜ê²½ì—ì„œ ìž‘ë™í•©ë‹ˆë‹¤.
- ë°˜ë³µë˜ëŠ” ì¼ìƒê³¼ ì—…ë¬´ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

---

## ðŸš€ í•µì‹¬ ê°œë… ë° ìž‘ë™ ì›ë¦¬

| ìš”ì†Œ        | ì„¤ëª…                                                          |
| ----------- | ------------------------------------------------------------- |
| **Flow**    | í•˜ë‚˜ì˜ ìž‘ì—… íë¦„, ë£¨í‹´ ë‹¨ìœ„ (ì˜ˆ: ì•„ì¹¨ ì¤€ë¹„, ìš´ë™ ë£¨í‹´ ë“±)     |
| **Step**    | í”Œë¡œìš° ë‚´ ë‹¨ì¼ ìž‘ì—… ë˜ëŠ” ì•Œë¦¼ ë‹¨ìœ„ (ì˜ˆ: ê¸°ìƒ, ì–‘ì¹˜, ì¶œê·¼)     |
| **Trigger** | íŠ¹ì • ì‹œê°„ ë˜ëŠ” ë‹¤ë¥¸ Stepê³¼ì˜ ê´€ê³„ë¡œ Stepì„ ì‹¤í–‰í•˜ëŠ” ì¡°ê±´ ì„¤ì • |

- ê¸°ì¤€ ìŠ¤í…(ì˜ˆ: ê¸°ìƒ)ì˜ **ì ˆëŒ€ì‹œê°„** ë˜ëŠ” **ìƒëŒ€ì‹œê°„(ì˜¤í”„ì…‹)**ìœ¼ë¡œ ì‹œê°„ ê³„ì‚°
- íŠ¸ë¦¬ê±°ëŠ” **â€œì‹œê°„ ê¸°ë°˜â€** ë˜ëŠ” **â€œìŠ¤í… ì˜ì¡´ ê¸°ë°˜â€**ìœ¼ë¡œ êµ¬ì„±

---

## ðŸ”¥ ê¸°ëŠ¥ ìŠ¤ì½”í”„ (MVP ê¸°ì¤€)

| ê¸°ëŠ¥                    | ìƒíƒœ                              |
| ----------------------- | --------------------------------- |
| í”Œë¡œìš° ìƒì„±/ìˆ˜ì •/ì‚­ì œ   | âœ… ì™„ë£Œ                           |
| ìŠ¤í… ì¶”ê°€/íŽ¸ì§‘/ì‚­ì œ     | âœ… ì™„ë£Œ                           |
| íŠ¸ë¦¬ê±° ì„¤ì • (ì‹œê°„/ìƒëŒ€) | âœ… ì™„ë£Œ (íœ  í”¼ì»¤ UI ì ìš©)         |
| ë¡œì»¬ ì €ìž¥ (SQLite)      | âœ… ì™„ë£Œ                           |
| ë¡œì»¬ ì•Œë¦¼ ì‹¤í–‰          | â³ ê°œë°œ ì˜ˆì • (expo-notifications) |
| í´ë¼ìš°ë“œ ì—°ë™           | âŒ ë¯¸ì§€ì› (MVPëŠ” ì˜¨ë””ë°”ì´ìŠ¤ ì „ìš©) |
| ì‚¬ìš©ìž ê³„ì •             | âŒ ë¯¸ì§€ì›                         |

---

## â° Trigger Type ì •ì˜

| íƒ€ìž…                  | ì„¤ëª…                                | í•„ë“œ                                   |
| --------------------- | ----------------------------------- | -------------------------------------- |
| **`at_time`**         | íŠ¹ì • ì ˆëŒ€ ì‹œê°„ì— ì‹¤í–‰               | `time` (í•„ìˆ˜)                          |
| **`after_step`**      | íŠ¹ì • ìŠ¤í… ì™„ë£Œ í›„ ì‹¤í–‰              | `targetStepId` (í•„ìˆ˜), `offset` (ì„ íƒ) |
| **`delay_from_step`** | íŠ¹ì • ìŠ¤í… ì‹œìž‘ í›„ ì§€ì—° ì‹œê°„ ë’¤ ì‹¤í–‰ | `targetStepId` (í•„ìˆ˜), `offset` (í•„ìˆ˜) |
| **`immediate`**       | íŠ¹ì • ìŠ¤í… ì™„ë£Œ ì§í›„ ì¦‰ì‹œ ì‹¤í–‰       | `targetStepId` (í•„ìˆ˜)                  |
| **`manual`**          | ìˆ˜ë™ìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰                  | ì—†ìŒ                                   |
| **`after_all`**       | í”Œë¡œìš° ë‚´ ëª¨ë“  ìŠ¤í… ì™„ë£Œ í›„ ì‹¤í–‰    | ì—†ìŒ                                   |

> âœ”ï¸ íŠ¸ë¦¬ê±° ë°°ì—´ ì¤‘ **í•˜ë‚˜ë¼ë„ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ í•´ë‹¹ ìŠ¤í…ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.**

---

## ðŸ—‚ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```plaintext
flow (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT
)

step (
  id INTEGER PRIMARY KEY,
  flow_id INTEGER NOT NULL,
  name TEXT NOT NULL,
  description TEXT,
  FOREIGN KEY(flow_id) REFERENCES flow(id) ON DELETE CASCADE
)

trigger (
  id TEXT PRIMARY KEY,
  step_id INTEGER NOT NULL,
  type TEXT NOT NULL,
  target_step_id INTEGER,
  offset INTEGER,
  time TEXT,
  FOREIGN KEY(step_id) REFERENCES step(id) ON DELETE CASCADE
)
```

---

## ðŸŽ¨ UI êµ¬ì„± ë° íŠ¹ì§•

- âœ… í”Œë¡œìš° â†’ ìŠ¤í… â†’ íŠ¸ë¦¬ê±° íŽ¸ì§‘ ëª¨ë‹¬ ë°©ì‹
- âœ… íœ  í”¼ì»¤(Flip Clock ìŠ¤íƒ€ì¼) ì‹œê°„ ì„¤ì •
- âœ… íŠ¸ë¦¬ê±° ëª©ë¡ì„ Step í•˜ë‹¨ì— ìž‘ê²Œ í‘œì‹œ
- âœ… í—¤ë”ì™€ Row ì •ë ¬ ë¬¸ì œ ê°œì„  ì™„ë£Œ

---

## ðŸ“¦ í´ë” êµ¬ì¡°

```plaintext
app/
â”œâ”€â”€ (tabs)/
â”‚   â”œâ”€â”€ index.tsx        // í™ˆ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ flow.tsx         // í”Œë¡œìš° ëª©ë¡
â”‚   â”œâ”€â”€ step.tsx         // ìŠ¤í… ëª©ë¡
â”‚   â”œâ”€â”€ settings.tsx     // ì„¤ì •
â”‚   â””â”€â”€ _layout.tsx      // íƒ­ ë„¤ë¹„ê²Œì´ì…˜
â”œâ”€â”€ flow/
â”‚   â”œâ”€â”€ [id].tsx         // í”Œë¡œìš° ìƒì„¸/íŽ¸ì§‘
â”‚   â””â”€â”€ newFlow.tsx      // í”Œë¡œìš° ìƒì„±
components/
â”œâ”€â”€ FlowEditor.tsx
â”œâ”€â”€ StepEditor.tsx
â””â”€â”€ TriggerEditor.tsx
db/
â”œâ”€â”€ db.ts                // SQLite ì´ˆê¸°í™” ë° ì—°ê²°
â””â”€â”€ flowRepository.ts    // CRUD í•¨ìˆ˜
lib/
â””â”€â”€ types.ts             // ë°ì´í„° íƒ€ìž…
```

---

## ðŸ—ï¸ ì˜ˆì‹œ JSON (í”Œë¡œìš° ì €ìž¥ êµ¬ì¡°)

```json
{
  "id": 1,
  "name": "ì•„ì¹¨ ì¤€ë¹„",
  "description": "ê¸°ìƒë¶€í„° ì¶œê·¼ê¹Œì§€ ì¤€ë¹„",
  "steps": [
    {
      "id": 101,
      "name": "ê¸°ìƒ",
      "triggers": [
        {
          "id": "t1",
          "type": "at_time",
          "time": "07:00"
        }
      ]
    },
    {
      "id": 102,
      "name": "ì–‘ì¹˜",
      "triggers": [
        {
          "id": "t2",
          "type": "after_step",
          "targetStepId": 101,
          "offset": 120
        }
      ]
    }
  ]
}
```

---

## ðŸ”§ ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­         | ì‚¬ìš© ê¸°ìˆ                                    |
| ------------ | ------------------------------------------- |
| í”„ë ˆìž„ì›Œí¬   | React Native + Expo                         |
| ìƒíƒœ ê´€ë¦¬    | React Context (Zustand ì¶”í›„ ë„ìž… ê°€ëŠ¥)      |
| ë°ì´í„°ë² ì´ìŠ¤ | SQLite (expo-sqlite, Async ê¸°ë°˜)            |
| UI ì»´í¬ë„ŒíŠ¸  | React Native + Custom Modal + Wheely Picker |
| ì•ŒëžŒ         | Expo Notifications (êµ¬í˜„ ì˜ˆì •)              |

---

## ðŸš€ í–¥í›„ í™•ìž¥ ê³„íš

- [ ] ì•ŒëžŒ ê¸°ëŠ¥ ì™„ì„±
- [ ] í”Œë¡œìš° ì‹¤í–‰ í™”ë©´ êµ¬í˜„ (í˜„ìž¬ ìƒíƒœ í‘œì‹œ, Step ì™„ë£Œ ì²´í¬)
- [ ] í‘¸ì‹œ ì•Œë¦¼ (ì„œë²„ ì—°ê²°)
- [ ] í´ë¼ìš°ë“œ ë™ê¸°í™” (Supabase ê³ ë ¤)
- [ ] ì‚¬ìš©ìž ê³„ì • ë° ë©€í‹° ë””ë°”ì´ìŠ¤ ì§€ì›
- [ ] ì›¹ ë²„ì „ ì¶”ê°€ (Next.js ê¸°ë°˜)

---

## ðŸ’¡ ìŠ¬ë¡œê±´

> **â€œì‹œê°„ì„ ì„¤ê³„í•˜ê³ , íë¦„ì„ ë§Œë“¤ê³ , ì‚¶ì„ í”¼ì›Œë‚¸ë‹¤.â€ â€“ FlowEEr**

---

## âœ… í˜„ìž¬ ì§„í–‰ ìƒí™©

- [x] í”Œë¡œìš° â†’ ìŠ¤í… â†’ íŠ¸ë¦¬ê±° ì „ì²´ íŽ¸ì§‘ ê¸°ëŠ¥ ì™„ë£Œ
- [x] íœ  í”¼ì»¤ UI ê°œì„ 
- [x] ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ë™ìž‘ í™•ì¸
- [ ] ë¡œì»¬ ì•ŒëžŒ ê¸°ëŠ¥ ë„ìž… ì§„í–‰ ì¤‘
- [ ] í”Œë¡œìš° ì‹¤í–‰ ëª¨ë“œ ê°œë°œ ì˜ˆì •

---

## ðŸ“œ ì‹¤í–‰ ë°©ë²•

```bash
npx expo start
```

- DB ì´ˆê¸°í™”ëŠ” ì•± êµ¬ë™ ì‹œ ìžë™ ìˆ˜í–‰ë¨
- ë˜ëŠ” ìˆ˜ë™ ì‹¤í–‰

```ts
import { initDatabase } from "@/lib/db";
initDatabase();
```

---

> Â© 2025 flowEEr. All rights reserved.
